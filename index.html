<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Flexible and Customisable Logging System • stenographer</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Flexible and Customisable Logging System">
<meta name="description" content="A comprehensive logging framework for R applications that provides hierarchical logging levels, database integration, and contextual logging capabilities. The package supports SQLite storage for persistent logs, provides colour-coded console output for better readability, includes parallel processing support, and implements structured error reporting with JSON formatting. It is designed to help developers track application behaviour, debug issues, and maintain audit trails in production environments.">
<meta property="og:description" content="A comprehensive logging framework for R applications that provides hierarchical logging levels, database integration, and contextual logging capabilities. The package supports SQLite storage for persistent logs, provides colour-coded console output for better readability, includes parallel processing support, and implements structured error reporting with JSON formatting. It is designed to help developers track application behaviour, debug issues, and maintain audit trails in production environments.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">stenographer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/getting-started-stenographer.html">Getting Started with stenographer</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="articles/donate.html">Donate</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/dereckmezquita/stenographer" target="_blank"><span class="fa fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://www.youtube.com/@derecksyoutube" target="_blank"><span class="fa fa-youtube fa-lg"></span></a></li>
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://derecksprojects.com" target="_blank">derecksprojects.com</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://derecksnotes.com" target="_blank">derecksnotes.com</a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="stenographer-">stenographer <a href="https://dereckmezquita.github.io/stenographer/"></a>
<a class="anchor" aria-label="anchor" href="#stenographer-"></a>
</h1></div>
<!-- badges: start -->

<p>The <code>stenographer</code> package provides a flexible logging framework with hierarchical logging levels, database integration, and contextual logging capabilities. It includes support for SQLite storage, colour-coded output, and parallel processing support.</p>
<p>The latest version includes support for <code>SQLite</code> database logging and context management.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the released version of stenographer from CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"stenographer"</span><span class="op">)</span></span></code></pre></div>
<p>You can install stenographer from <a href="https://github.com/dereckmezquita/stenographer" class="external-link">www.github.com/dereckmezquita/stenographer</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"derecksprojects/stenographer"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="basic-usage">Basic Usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h2>
<p>Here’s a quick example of how to use stenographer:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">box</span><span class="fu">::</span><span class="fu"><a href="http://klmr.me/box/reference/use.html" class="external-link">use</a></span><span class="op">(</span><span class="va">stenographer</span><span class="op">[</span><span class="va">Stenographer</span>, <span class="va">LogLevel</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a basic logger</span></span>
<span><span class="va">steno</span> <span class="op">&lt;-</span> <span class="va"><a href="reference/Stenographer.html">Stenographer</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Log some messages</span></span>
<span><span class="va">steno</span><span class="op">$</span><span class="fu">info</span><span class="op">(</span><span class="st">"This is an informational message"</span><span class="op">)</span></span>
<span><span class="co">#&gt; 2025-01-12T14:10:47.361Z INFO    This is an informational message</span></span>
<span><span class="va">steno</span><span class="op">$</span><span class="fu">warn</span><span class="op">(</span><span class="st">"This is a warning"</span><span class="op">)</span></span>
<span><span class="co">#&gt; 2025-01-12T14:10:47.368Z WARNING This is a warning</span></span>
<span><span class="va">steno</span><span class="op">$</span><span class="fu">error</span><span class="op">(</span><span class="st">"This is an error"</span><span class="op">)</span></span>
<span><span class="co">#&gt; 2025-01-12T14:10:47.392Z ERROR   This is an error</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="features">Features<a class="anchor" aria-label="anchor" href="#features"></a>
</h2>
<div class="section level3">
<h3 id="customisable-logging">Customisable Logging<a class="anchor" aria-label="anchor" href="#customisable-logging"></a>
</h3>
<p>You can customise the stenographer by specifying the minimum log level, output file, and custom print function:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">log_file</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempfile</a></span><span class="op">(</span><span class="st">"app_log"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">custom_steno</span> <span class="op">&lt;-</span> <span class="va"><a href="reference/Stenographer.html">Stenographer</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>    level <span class="op">=</span> <span class="va">LogLevel</span><span class="op">$</span><span class="va">WARNING</span>,</span>
<span>    file_path <span class="op">=</span> <span class="va">log_file</span>,</span>
<span>    print_fn <span class="op">=</span> <span class="va">message</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">custom_steno</span><span class="op">$</span><span class="fu">info</span><span class="op">(</span><span class="st">"This won't be logged"</span><span class="op">)</span></span>
<span><span class="va">custom_steno</span><span class="op">$</span><span class="fu">warn</span><span class="op">(</span><span class="st">"This will be logged to console and file"</span><span class="op">)</span></span>
<span><span class="co">#&gt; 2025-01-12T14:10:47.515Z WARNING This will be logged to console and file</span></span>
<span><span class="va">custom_steno</span><span class="op">$</span><span class="fu">error</span><span class="op">(</span><span class="st">"This is an error message"</span>, error <span class="op">=</span> <span class="st">"Some error"</span><span class="op">)</span></span>
<span><span class="co">#&gt; 2025-01-12T14:10:47.533Z ERROR   This is an error message</span></span>
<span><span class="co">#&gt; Error:</span></span>
<span><span class="co">#&gt; "Some error"</span></span></code></pre></div>
<p>Logs are written to the specified file as JSON objects:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/readLines.html" class="external-link">readLines</a></span><span class="op">(</span><span class="va">log_file</span><span class="op">)</span>, sep <span class="op">=</span> <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; {"datetime":"2025-01-12T14:10:47.515Z","level":"WARNING","msg":"This will be logged to console and file","data":{},"error":{},"context":{}} </span></span>
<span><span class="co">#&gt; {"datetime":"2025-01-12T14:10:47.533Z","level":"ERROR","msg":"This is an error message","data":{},"error":"[\"Some error\"]","context":{}}</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="database-logging">Database Logging<a class="anchor" aria-label="anchor" href="#database-logging"></a>
</h3>
<p>stenographer now supports logging to a SQLite database and context management so you can easily track application events. The context is useful for filtering and querying logs based on specific criteria from <code>SQLite</code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">box</span><span class="fu">::</span><span class="fu"><a href="http://klmr.me/box/reference/use.html" class="external-link">use</a></span><span class="op">(</span><span class="va">RSQLite</span><span class="op">[</span> <span class="va">SQLite</span> <span class="op">]</span><span class="op">)</span></span>
<span><span class="fu">box</span><span class="fu">::</span><span class="fu"><a href="http://klmr.me/box/reference/use.html" class="external-link">use</a></span><span class="op">(</span><span class="va">DBI</span><span class="op">[</span> <span class="va">dbConnect</span>, <span class="va">dbDisconnect</span>, <span class="va">dbGetQuery</span> <span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a database connection</span></span>
<span><span class="va">db</span> <span class="op">&lt;-</span> <span class="fu">dbConnect</span><span class="op">(</span><span class="fu">SQLite</span><span class="op">(</span><span class="op">)</span>, <span class="st">"log.sqlite"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a stenographer that logs to the database</span></span>
<span><span class="va">db_steno</span> <span class="op">&lt;-</span> <span class="va"><a href="reference/Stenographer.html">Stenographer</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>    context <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>app_name <span class="op">=</span> <span class="st">"MyApp"</span>, fun <span class="op">=</span> <span class="st">"main"</span><span class="op">)</span>,</span>
<span>    db_conn <span class="op">=</span> <span class="va">db</span>,</span>
<span>    table_name <span class="op">=</span> <span class="st">"app_logs"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Log some messages</span></span>
<span><span class="va">db_steno</span><span class="op">$</span><span class="fu">info</span><span class="op">(</span><span class="st">"This is logged to the database"</span><span class="op">)</span></span>
<span><span class="co">#&gt; 2025-01-12T14:10:47.682Z INFO    This is logged to the database</span></span>
<span><span class="co">#&gt; Context:</span></span>
<span><span class="co">#&gt; {</span></span>
<span><span class="co">#&gt;   "app_name": "MyApp",</span></span>
<span><span class="co">#&gt;   "fun": "main"</span></span>
<span><span class="co">#&gt; }</span></span>
<span><span class="va">db_steno</span><span class="op">$</span><span class="fu">warn</span><span class="op">(</span><span class="st">"This is a warning"</span>, data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>code <span class="op">=</span> <span class="fl">101</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; 2025-01-12T14:10:47.711Z WARNING This is a warning</span></span>
<span><span class="co">#&gt; Data:</span></span>
<span><span class="co">#&gt; {</span></span>
<span><span class="co">#&gt;   "code": 101</span></span>
<span><span class="co">#&gt; }</span></span>
<span><span class="co">#&gt; Context:</span></span>
<span><span class="co">#&gt; {</span></span>
<span><span class="co">#&gt;   "app_name": "MyApp",</span></span>
<span><span class="co">#&gt;   "fun": "main"</span></span>
<span><span class="co">#&gt; }</span></span>
<span><span class="va">db_steno</span><span class="op">$</span><span class="fu">error</span><span class="op">(</span><span class="st">"An error occurred"</span>, error <span class="op">=</span> <span class="st">"Division by zero"</span><span class="op">)</span></span>
<span><span class="co">#&gt; 2025-01-12T14:10:47.777Z ERROR   An error occurred</span></span>
<span><span class="co">#&gt; Error:</span></span>
<span><span class="co">#&gt; "Division by zero"</span></span>
<span><span class="co">#&gt; Context:</span></span>
<span><span class="co">#&gt; {</span></span>
<span><span class="co">#&gt;   "app_name": "MyApp",</span></span>
<span><span class="co">#&gt;   "fun": "main"</span></span>
<span><span class="co">#&gt; }</span></span>
<span></span>
<span><span class="co"># Example of querying the logs</span></span>
<span><span class="va">query</span> <span class="op">&lt;-</span> <span class="st">"SELECT * FROM app_logs WHERE level = 'ERROR'"</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">dbGetQuery</span><span class="op">(</span><span class="va">db</span>, <span class="va">query</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id                 datetime level                               context</span></span>
<span><span class="co">#&gt; 1  3 2025-01-12T14:10:47.777Z ERROR {"app_name":["MyApp"],"fun":["main"]}</span></span>
<span><span class="co">#&gt;                 msg data                        error</span></span>
<span><span class="co">#&gt; 1 An error occurred &lt;NA&gt; ["[\\"Division by zero\\"]"]</span></span>
<span></span>
<span><span class="co"># Don't forget to close the database connection when you're done</span></span>
<span><span class="fu">dbDisconnect</span><span class="op">(</span><span class="va">db</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="helper-functions">Helper Functions<a class="anchor" aria-label="anchor" href="#helper-functions"></a>
</h3>
<p>Stenographer includes helper functions like <code>valueCoordinates</code> and <code>tableToString</code> to provide detailed context in log messages:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">box</span><span class="fu">::</span><span class="fu"><a href="http://klmr.me/box/reference/use.html" class="external-link">use</a></span><span class="op">(</span><span class="va">stenographer</span><span class="op">[</span><span class="va">valueCoordinates</span>, <span class="va">tableToString</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a sample dataset with some issues</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>    a <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="cn">NA</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span>,</span>
<span>    b <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span>, <span class="cn">NA</span>, <span class="fl">8</span>, <span class="fl">10</span><span class="op">)</span>,</span>
<span>    c <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">6</span>, <span class="fl">9</span>, <span class="cn">NA</span>, <span class="fl">15</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Find coordinates of NA values</span></span>
<span><span class="va">na_coords</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/valueCoordinates.html">valueCoordinates</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">na_coords</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">steno</span><span class="op">$</span><span class="fu">warn</span><span class="op">(</span></span>
<span>        <span class="st">"NA values found in the dataset"</span>,</span>
<span>        data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>            na_locations <span class="op">=</span> <span class="va">na_coords</span>,</span>
<span>            dataset_preview <span class="op">=</span> <span class="fu"><a href="reference/tableToString.html">tableToString</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span>        <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#&gt; 2025-01-12T14:10:47.791Z WARNING NA values found in the dataset</span></span>
<span><span class="co">#&gt; Data:</span></span>
<span><span class="co">#&gt; {</span></span>
<span><span class="co">#&gt;   "na_locations": [</span></span>
<span><span class="co">#&gt;     {</span></span>
<span><span class="co">#&gt;       "column": 1,</span></span>
<span><span class="co">#&gt;       "row": 2</span></span>
<span><span class="co">#&gt;     },</span></span>
<span><span class="co">#&gt;     {</span></span>
<span><span class="co">#&gt;       "column": 2,</span></span>
<span><span class="co">#&gt;       "row": 3</span></span>
<span><span class="co">#&gt;     },</span></span>
<span><span class="co">#&gt;     {</span></span>
<span><span class="co">#&gt;       "column": 3,</span></span>
<span><span class="co">#&gt;       "row": 4</span></span>
<span><span class="co">#&gt;     }</span></span>
<span><span class="co">#&gt;   ],</span></span>
<span><span class="co">#&gt;   "dataset_preview": "   a  b  c\n1  1  2  3\n2 NA  4  6\n3  3 NA  9\n4  4  8 NA\n5  5 10 15"</span></span>
<span><span class="co">#&gt; }</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="error-logging-with-context">Error Logging with Context<a class="anchor" aria-label="anchor" href="#error-logging-with-context"></a>
</h3>
<p>stenographer makes it easy to log errors with context:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">process_data</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/conditions.html" class="external-link">tryCatch</a></span><span class="op">(</span><span class="op">{</span></span>
<span>        <span class="va">result</span> <span class="op">&lt;-</span> <span class="va">df</span><span class="op">$</span><span class="va">a</span> <span class="op">/</span> <span class="va">df</span><span class="op">$</span><span class="va">b</span></span>
<span>        <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/any.html" class="external-link">any</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/is.finite.html" class="external-link">is.infinite</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>            <span class="va">inf_coords</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/valueCoordinates.html">valueCoordinates</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span>, <span class="cn">Inf</span><span class="op">)</span></span>
<span>            <span class="va">steno</span><span class="op">$</span><span class="fu">error</span><span class="op">(</span></span>
<span>                <span class="st">"Division by zero occurred"</span>,</span>
<span>                data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>                    infinite_values <span class="op">=</span> <span class="va">inf_coords</span>,</span>
<span>                    dataset_preview <span class="op">=</span> <span class="fu"><a href="reference/tableToString.html">tableToString</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span>                <span class="op">)</span></span>
<span>            <span class="op">)</span></span>
<span>            <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Division by zero error"</span><span class="op">)</span></span>
<span>        <span class="op">}</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span>
<span>    <span class="op">}</span>, error <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">e</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">steno</span><span class="op">$</span><span class="fu">error</span><span class="op">(</span></span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"An error occurred while processing data:"</span>, <span class="va">e</span><span class="op">$</span><span class="va">message</span><span class="op">)</span>,</span>
<span>            data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>dataset_preview <span class="op">=</span> <span class="fu"><a href="reference/tableToString.html">tableToString</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">)</span>,</span>
<span>            error <span class="op">=</span> <span class="va">e</span></span>
<span>        <span class="op">)</span></span>
<span>        <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="va">e</span><span class="op">)</span></span>
<span>    <span class="op">}</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Test the function with problematic data</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>, b <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">2</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">process_data</span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt; 2025-01-12T14:10:47.816Z ERROR   Division by zero occurred</span></span>
<span><span class="co">#&gt; Data:</span></span>
<span><span class="co">#&gt; {</span></span>
<span><span class="co">#&gt;   "infinite_values": [</span></span>
<span><span class="co">#&gt;     {</span></span>
<span><span class="co">#&gt;       "column": 1,</span></span>
<span><span class="co">#&gt;       "row": 1</span></span>
<span><span class="co">#&gt;     },</span></span>
<span><span class="co">#&gt;     {</span></span>
<span><span class="co">#&gt;       "column": 1,</span></span>
<span><span class="co">#&gt;       "row": 3</span></span>
<span><span class="co">#&gt;     }</span></span>
<span><span class="co">#&gt;   ],</span></span>
<span><span class="co">#&gt;   "dataset_preview": "  a b\n1 1 0\n2 2 2\n3 3 0"</span></span>
<span><span class="co">#&gt; } </span></span>
<span><span class="co">#&gt; 2025-01-12T14:10:47.817Z ERROR   An error occurred while processing data: Division by zero error</span></span>
<span><span class="co">#&gt; Data:</span></span>
<span><span class="co">#&gt; {</span></span>
<span><span class="co">#&gt;   "dataset_preview": "  a b\n1 1 0\n2 2 2\n3 3 0"</span></span>
<span><span class="co">#&gt; }</span></span>
<span><span class="co">#&gt; Error:</span></span>
<span><span class="co">#&gt; {</span></span>
<span><span class="co">#&gt;   "name": "simpleError",</span></span>
<span><span class="co">#&gt;   "message": "Division by zero error",</span></span>
<span><span class="co">#&gt;   "call": "doTryCatch(return(expr), name, parentenv, handler)"</span></span>
<span><span class="co">#&gt; }</span></span>
<span><span class="co">#&gt; Error in doTryCatch(return(expr), name, parentenv, handler): Division by zero error</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="parallel-processing-support">Parallel Processing Support<a class="anchor" aria-label="anchor" href="#parallel-processing-support"></a>
</h3>
<p>stenographer provides support for logging in parallel environments:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">box</span><span class="fu">::</span><span class="fu"><a href="http://klmr.me/box/reference/use.html" class="external-link">use</a></span><span class="op">(</span><span class="va">future</span><span class="op">)</span></span>
<span><span class="fu">box</span><span class="fu">::</span><span class="fu"><a href="http://klmr.me/box/reference/use.html" class="external-link">use</a></span><span class="op">(</span><span class="va">future.apply</span><span class="op">[</span><span class="va">future_lapply</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="fu">box</span><span class="fu">::</span><span class="fu"><a href="http://klmr.me/box/reference/use.html" class="external-link">use</a></span><span class="op">(</span><span class="va">stenographer</span><span class="op">[</span><span class="va">messageParallel</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="va">steno</span> <span class="op">&lt;-</span> <span class="va"><a href="reference/Stenographer.html">Stenographer</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>print_fn <span class="op">=</span> <span class="va">messageParallel</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">future</span><span class="fu">::</span><span class="fu"><a href="https://future.futureverse.org/reference/plan.html" class="external-link">plan</a></span><span class="op">(</span><span class="va">future</span><span class="op">$</span><span class="va">multisession</span>, workers <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu">future_lapply</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="kw">function</span><span class="op">(</span><span class="va">i</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="fu"><a href="reference/messageParallel.html">messageParallel</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"Processing item %d"</span>, <span class="va">i</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">i</span> <span class="op">==</span> <span class="fl">3</span><span class="op">)</span> <span class="op">{</span></span>
<span>        <span class="va">steno</span><span class="op">$</span><span class="fu">warn</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"Warning for item %d"</span>, <span class="va">i</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>    <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">i</span> <span class="op">*</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">future</span><span class="fu">::</span><span class="fu"><a href="https://future.futureverse.org/reference/plan.html" class="external-link">plan</a></span><span class="op">(</span><span class="fu">future</span><span class="fu">::</span><span class="va"><a href="https://future.futureverse.org/reference/sequential.html" class="external-link">sequential</a></span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="co">#&gt; Processing item 1</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="co">#&gt; Processing item 2</span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a><span class="co">#&gt; Processing item 3</span></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a><span class="co">#&gt; 2024-08-03T11:18:03.091Z </span><span class="al">WARNING</span><span class="co"> Warning for item 3</span></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a><span class="co">#&gt; Processing item 4</span></span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a><span class="co">#&gt; Processing item 5</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="contributing">Contributing<a class="anchor" aria-label="anchor" href="#contributing"></a>
</h2>
<p>Contributions to stenographer are welcome! Please refer to the <a href="CONTRIBUTING.html">CONTRIBUTING.md</a> file for guidelines.</p>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p>stenographer is released under the MIT License. See the <a href="LICENSE">LICENSE</a> file for details.</p>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<p>If you use this package in your research or work, please cite it as:</p>
<p>Mezquita, D. (2025). stenographer: Flexible and Customisable Logging System. R package version 1.0.0. <a href="https://github.com/dereckmezquita/stenographer" class="external-link uri">https://github.com/dereckmezquita/stenographer</a></p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/dereckmezquita/stenographer/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing stenographer</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://derecksnotes.com" class="external-link">Dereck Mezquita</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-9307-6762" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/dereckmezquita/stenographer/actions" class="external-link"><img src="https://github.com/dereckmezquita/stenographer/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://CRAN.R-project.org/package=stenographer" class="external-link"><img src="https://www.r-pkg.org/badges/version/stenographer" alt="CRAN status"></a></li>
<li><a href="https://github.com/dereckmezquita/stenographer" class="external-link"><img src="https://img.shields.io/github/r-package/v/dereckmezquita/stenographer?label=GitHub" alt="GitHub version"></a></li>
<li><a href="https://opensource.org/licenses/MIT" class="external-link"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a></li>
<li><a href="https://cran.r-project.org/package=stenographer" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/stenographer" alt="Downloads"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://derecksnotes.com" class="external-link">Dereck Mezquita</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
